.section .text
glabel ssb_data_dma
  /* 003690 80002A90 27BDFFA0 */     addiu $sp, $sp, -0x60
  /* 003694 80002A94 AFBE0038 */        sw $fp, 0x38($sp)
  /* 003698 80002A98 93BE0073 */       lbu $fp, 0x73($sp)
  /* 00369C 80002A9C AFB30024 */        sw $s3, 0x24($sp)
  /* 0036A0 80002AA0 AFB20020 */        sw $s2, 0x20($sp)
  /* 0036A4 80002AA4 AFB1001C */        sw $s1, 0x1c($sp)
  /* 0036A8 80002AA8 24010001 */     addiu $at, $zero, 1
  /* 0036AC 80002AAC 00E08825 */        or $s1, $a3, $zero
  /* 0036B0 80002AB0 00C09025 */        or $s2, $a2, $zero
  /* 0036B4 80002AB4 00A09825 */        or $s3, $a1, $zero
  /* 0036B8 80002AB8 AFBF003C */        sw $ra, 0x3c($sp)
  /* 0036BC 80002ABC AFB70034 */        sw $s7, 0x34($sp)
  /* 0036C0 80002AC0 AFB60030 */        sw $s6, 0x30($sp)
  /* 0036C4 80002AC4 AFB5002C */        sw $s5, 0x2c($sp)
  /* 0036C8 80002AC8 AFB40028 */        sw $s4, 0x28($sp)
  /* 0036CC 80002ACC AFB00018 */        sw $s0, 0x18($sp)
  /* 0036D0 80002AD0 17C10006 */       bne $fp, $at, .L80002AEC
  /* 0036D4 80002AD4 AFA40060 */        sw $a0, 0x60($sp)
  /* 0036D8 80002AD8 00C02025 */        or $a0, $a2, $zero
  /* 0036DC 80002ADC 0C00C874 */       jal osWritebackDCache
  /* 0036E0 80002AE0 00E02825 */        or $a1, $a3, $zero
  /* 0036E4 80002AE4 10000005 */         b .L80002AFC
  /* 0036E8 80002AE8 3C140001 */       lui $s4, 1
  .L80002AEC:
  /* 0036EC 80002AEC 02402025 */        or $a0, $s2, $zero
  /* 0036F0 80002AF0 0C00D14C */       jal osInvalDCache
  /* 0036F4 80002AF4 02202825 */        or $a1, $s1, $zero
  /* 0036F8 80002AF8 3C140001 */       lui $s4, (0x10001 >> 16) # 65537
  .L80002AFC:
  /* 0036FC 80002AFC 36940001 */       ori $s4, $s4, (0x10001 & 0xFFFF) # 65537
  /* 003700 80002B00 3C178004 */       lui $s7, %hi(D_800450C0)
  /* 003704 80002B04 26F750C0 */     addiu $s7, $s7, %lo(D_800450C0)
  /* 003708 80002B08 3C100001 */       lui $s0, 1
  /* 00370C 80002B0C 0234082B */      sltu $at, $s1, $s4
  /* 003710 80002B10 A3A0004A */        sb $zero, 0x4a($sp)
  /* 003714 80002B14 AFB7004C */        sw $s7, 0x4c($sp)
  /* 003718 80002B18 14200015 */      bnez $at, .L80002B70
  /* 00371C 80002B1C AFB00058 */        sw $s0, 0x58($sp)
  /* 003720 80002B20 3C158004 */       lui $s5, %hi(D_80045020)
  /* 003724 80002B24 26B55020 */     addiu $s5, $s5, %lo(D_80045020)
  /* 003728 80002B28 27B60048 */     addiu $s6, $sp, 0x48
  .L80002B2C:
  /* 00372C 80002B2C 8EAE0000 */        lw $t6, ($s5) # D_80045020 + 0
  /* 003730 80002B30 AFB20050 */        sw $s2, 0x50($sp)
  /* 003734 80002B34 AFB30054 */        sw $s3, 0x54($sp)
  /* 003738 80002B38 15C00004 */      bnez $t6, .L80002B4C
  /* 00373C 80002B3C 8FA40060 */        lw $a0, 0x60($sp)
  /* 003740 80002B40 02C02825 */        or $a1, $s6, $zero
  /* 003744 80002B44 0C00D0C0 */       jal osEPiStartDma
  /* 003748 80002B48 03C03025 */        or $a2, $fp, $zero
  .L80002B4C:
  /* 00374C 80002B4C 02E02025 */        or $a0, $s7, $zero
  /* 003750 80002B50 00002825 */        or $a1, $zero, $zero
  /* 003754 80002B54 0C00C084 */       jal osRecvMesg
  /* 003758 80002B58 24060001 */     addiu $a2, $zero, 1
  /* 00375C 80002B5C 02308823 */      subu $s1, $s1, $s0
  /* 003760 80002B60 0234082B */      sltu $at, $s1, $s4
  /* 003764 80002B64 02709821 */      addu $s3, $s3, $s0
  /* 003768 80002B68 1020FFF0 */      beqz $at, .L80002B2C
  /* 00376C 80002B6C 02509021 */      addu $s2, $s2, $s0
  .L80002B70:
  /* 003770 80002B70 3C158004 */       lui $s5, %hi(D_80045020)
  /* 003774 80002B74 26B55020 */     addiu $s5, $s5, %lo(D_80045020)
  /* 003778 80002B78 1220000E */      beqz $s1, .L80002BB4
  /* 00377C 80002B7C 27B60048 */     addiu $s6, $sp, 0x48
  /* 003780 80002B80 8EAF0000 */        lw $t7, ($s5) # D_80045020 + 0
  /* 003784 80002B84 AFB20050 */        sw $s2, 0x50($sp)
  /* 003788 80002B88 AFB30054 */        sw $s3, 0x54($sp)
  /* 00378C 80002B8C 15E00005 */      bnez $t7, .L80002BA4
  /* 003790 80002B90 AFB10058 */        sw $s1, 0x58($sp)
  /* 003794 80002B94 8FA40060 */        lw $a0, 0x60($sp)
  /* 003798 80002B98 02C02825 */        or $a1, $s6, $zero
  /* 00379C 80002B9C 0C00D0C0 */       jal osEPiStartDma
  /* 0037A0 80002BA0 03C03025 */        or $a2, $fp, $zero
  .L80002BA4:
  /* 0037A4 80002BA4 02E02025 */        or $a0, $s7, $zero
  /* 0037A8 80002BA8 00002825 */        or $a1, $zero, $zero
  /* 0037AC 80002BAC 0C00C084 */       jal osRecvMesg
  /* 0037B0 80002BB0 24060001 */     addiu $a2, $zero, 1
  .L80002BB4:
  /* 0037B4 80002BB4 8FBF003C */        lw $ra, 0x3c($sp)
  /* 0037B8 80002BB8 8FB00018 */        lw $s0, 0x18($sp)
  /* 0037BC 80002BBC 8FB1001C */        lw $s1, 0x1c($sp)
  /* 0037C0 80002BC0 8FB20020 */        lw $s2, 0x20($sp)
  /* 0037C4 80002BC4 8FB30024 */        lw $s3, 0x24($sp)
  /* 0037C8 80002BC8 8FB40028 */        lw $s4, 0x28($sp)
  /* 0037CC 80002BCC 8FB5002C */        lw $s5, 0x2c($sp)
  /* 0037D0 80002BD0 8FB60030 */        lw $s6, 0x30($sp)
  /* 0037D4 80002BD4 8FB70034 */        lw $s7, 0x34($sp)
  /* 0037D8 80002BD8 8FBE0038 */        lw $fp, 0x38($sp)
  /* 0037DC 80002BDC 03E00008 */        jr $ra
  /* 0037E0 80002BE0 27BD0060 */     addiu $sp, $sp, 0x60

