include_rules

#$(CPP) $(VERSION_CFLAGS) -I include/ -DBUILD_DIR=$(BUILD_DIR) -o $@ $<

&UNKSYM = not-found-sym.ld

: ssb64.in.ld |> $(CPP) -P -o %o %f |> ssb64.ld {cpp-ld} 

: {cpp-ld}  | <audio_objs> <asm_objs> <resources> <imgbanks> <unknowns> \
|> $(LD) -T %f &(UNKSYM) $(LD_FLAGS) -o $(ELF) \
   %<audio_objs> %<asm_objs> %<resources> %<imgbanks> %<unknowns> \
|> $(ELF) | $(TARGET).map

: $(ELF) |> $(CROSS)objcopy --pad-to=0x1000000 --gap-fill=0xFF -O binary %f %o |> $(ROM)